<!-- components/player-card/player-card.wxml -->
<view class="player-card {{mode}} {{selected ? 'selected' : ''}} {{disabled ? 'disabled' : ''}}" catchtap="onCardTap">
  <!-- 球员头像 -->
  <image class="player-avatar" src="{{_processedPlayerData.avatar || playerData.avatar || '/static/images/default-avatar.png'}}" mode="aspectFill"></image>

  <!-- 球员信息 -->
  <view class="player-info">
    <!-- 左列：姓名 + 号码 -->
    <view class="info-left-col">
      <!-- 第一行：姓名 + 队长标识 -->
      <view class="player-name-row">
        <text class="player-name">{{_processedPlayerData.realName || _processedPlayerData.nickname || playerData.realName || playerData.nickname}}</text>
        <image wx:if="{{_processedPlayerData.isCaptain || playerData.isCaptain}}" class="captain-badge" src="{{icons.crownSmall}}" mode="aspectFit"></image>
      </view>
      <!-- 第二行：号码 -->
      <view class="player-number-row">
        <text class="jersey-number">{{_processedPlayerData.jerseyNumber || playerData.jerseyNumber}}号</text>
      </view>
    </view>

    <!-- 中列：位置（垂直居中） -->
    <view class="info-middle-col" wx:if="{{_processedPlayerData.position || playerData.position}}">
      <position-tag code="{{_processedPlayerData.position || playerData.position}}" size="small"></position-tag>
    </view>

    <!-- 右列：惯用脚（垂直居中） -->
    <view class="info-right-col">
      <foot-skill-display
        leftFootSkill="{{_processedPlayerData.leftFootSkill}}"
        rightFootSkill="{{_processedPlayerData.rightFootSkill}}">
      </foot-skill-display>
    </view>
  </view>

  <!-- 球员数据（完整版和紧凑版） -->
  <view wx:if="{{mode !== 'draft'}}" class="player-stats">
    <view class="stat-mini">
      <text class="value">{{_processedPlayerData.totalGoals || playerData.totalGoals || 0}}</text>
      <text class="label">进球</text>
    </view>
    <view class="stat-mini">
      <text class="value">{{_processedPlayerData.totalAssists || playerData.totalAssists || 0}}</text>
      <text class="label">助攻</text>
    </view>
    <view class="stat-mini">
      <text class="value">{{_processedPlayerData.totalMatches || playerData.totalMatches || 0}}</text>
      <text class="label">出场</text>
    </view>
  </view>

  <!-- Draft模式：选中标识 -->
  <view wx:if="{{mode === 'draft'}}" class="select-indicator">
    <view class="checkbox {{selected ? 'checked' : ''}}">
      <text wx:if="{{selected}}">✓</text>
    </view>
  </view>
</view>
