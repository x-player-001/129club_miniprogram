<!-- 创建比赛页面 -->
<view class="create-match-container">
  <scroll-view class="content" scroll-y enable-back-to-top>
    <!-- 表单区域 -->
    <view class="form-section">
      <!-- 比赛标题 -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">比赛标题</text>
          <text class="required">*</text>
        </view>
        <input
          class="form-input"
          placeholder="请输入比赛标题"
          value="{{formData.title}}"
          bindinput="onTitleInput"
          maxlength="50"
        />
      </view>

      <!-- 比赛队伍 -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">比赛队伍</text>
        </view>
        <view class="teams-display">
          <view class="team-item">
            <image class="team-logo" src="{{team1.logo || '/static/images/default-team.png'}}" mode="aspectFit"></image>
            <text class="team-name">{{team1.name || '加载中...'}}</text>
          </view>
          <text class="vs-text">VS</text>
          <view class="team-item">
            <image class="team-logo" src="{{team2.logo || '/static/images/default-team.png'}}" mode="aspectFit"></image>
            <text class="team-name">{{team2.name || '加载中...'}}</text>
          </view>
        </view>
      </view>

      <!-- 比赛时间 -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">比赛时间</text>
          <text class="required">*</text>
        </view>
        <view class="datetime-picker-wrapper">
          <picker
            class="form-picker datetime-picker"
            mode="date"
            value="{{formData.matchDate}}"
            start="{{currentDate}}"
            bindchange="onDateChange">
            <view class="picker-content {{formData.matchDate ? '' : 'placeholder'}}">
              {{formData.matchDate || '选择日期'}}
            </view>
          </picker>
          <picker
            class="form-picker datetime-picker"
            mode="time"
            value="{{formData.matchTime}}"
            bindchange="onTimeChange">
            <view class="picker-content {{formData.matchTime ? '' : 'placeholder'}}">
              {{formData.matchTime || '选择时间'}}
            </view>
          </picker>
        </view>
      </view>

      <!-- 比赛地点 -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">比赛地点</text>
          <text class="required">*</text>
        </view>
        <input
          class="form-input"
          placeholder="请输入比赛地点"
          value="{{formData.location}}"
          bindinput="onLocationInput"
          maxlength="50"
        />
        <button class="location-btn" bindtap="onChooseLocation">
          <text class="btn-icon">📍</text>
          <text class="btn-text">选择地点</text>
        </button>
      </view>

      <!-- 详细地址 -->
      <view class="form-item" wx:if="{{formData.address}}">
        <view class="form-label">
          <text class="label-text">详细地址</text>
        </view>
        <view class="address-text">{{formData.address}}</view>
      </view>

      <!-- 比赛说明 -->
      <view class="form-item">
        <view class="form-label">
          <text class="label-text">比赛说明</text>
        </view>
        <textarea
          class="form-textarea"
          placeholder="请输入比赛说明（选填）"
          value="{{formData.description}}"
          bindinput="onDescriptionInput"
          maxlength="500"
          auto-height
        />
      </view>
    </view>

    <!-- 底部占位 -->
    <view class="bottom-space"></view>
  </scroll-view>

  <!-- 底部按钮 -->
  <view class="bottom-actions">
    <button class="action-btn cancel-btn" bindtap="onCancel">取消</button>
    <button class="action-btn submit-btn" bindtap="onSubmit">创建比赛</button>
  </view>
</view>
